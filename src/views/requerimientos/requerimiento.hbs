<div class="container p-4">
    <div class="row">
        <div class="col-md-8 mx-auto">
            <div class="text-center"> {{!-- titulo --}}
                <h3>Requerimiento</h3>
                <p># {{requerimiento.idRequerimiento}}</p>
            </div>
            <div> {{!-- formulario --}}
                <form action="/requerimientos/requerimiento/{{requerimiento.idRequerimiento}}" method="post">

                    <div class="form-group"> {{!-- proyecto --}}

                        <label for="proyecto">Proyecto:</label>

                        {{#if requerimiento.permisoProyecto}}
                            <input type="hidden" class="form-control" name="idProyecto" id="idProyecto" value="{{requerimiento.idProyecto}}" required>
                            <input type="text" list="proyectos" class="form-control" name="proyecto" id="proyecto" value="{{requerimiento.nombreProyecto}}">
                            <datalist id="proyectos">
                                {{#each proyectos}}
                                    <option value="{{idProyecto}} - {{nombreProyecto}}">{{idProyecto}} - {{nombreProyecto}}</option>
                                {{/each}}
                            </datalist>
                        {{else}}
                            <input type="text" class="form-control" name="proyecto" id="proyecto" value="{{requerimiento.nombreProyecto}}" readonly>
                            <input type="hidden" class="form-control" name="idProyecto" id="idProyecto" value="{{requerimiento.idProyecto}}" required>

                        {{/if}}
                    </div>

                    <div class="form-group"> {{!-- asunto --}}
                        <label for="asunto">Asunto</label>
                        <input type="text" name="asunto" id="asunto" class="form-control" value="{{requerimiento.asunto}}" readonly>
                    </div>

                    <div class="form-group"> {{!-- descripcion --}}
                        <label for="descripcion">Descripción</label>
                        <textarea name="descripcion" id="descripcion" class="form-control" disabled>{{requerimiento.descripcion}}</textarea>
                    </div>

                    <div class="form-group"> {{!-- conclusion --}}
                        <label for="conclusion">Conclusión</label>
                        <textarea name="conclusion" id="conclusion" class="form-control">{{requerimiento.conclusion}}</textarea>
                    </div>

                    <div class="form-group"> {{!-- estado --}}
                        <label for="estado">Estado</label>
                        <select name="estado" id="estado" class="form-control">
                            <option value="Abierto" {{#if requerimiento.estadoAbierto}}selected{{/if}}>Abierto</option>
                            <option value="Cerrado" {{#if requerimiento.estadoCerrado}}selected{{/if}}>Cerrado</option>
                        </select>
                    </div>
                                            
                    <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i>Actualizar Requerimiento</button>
                    <a href="/intervenciones/intervencionesXRequerimiento/{{requerimiento.idRequerimiento}}" class="btn btn-success">Intervenciones</a>
                    <a href="/requerimientos/listarXUsuario" class="btn btn-secondary"></i>Salir</a>

                </form>
            </div>
         </div>
    </div>
</div>

    
{{!-- Scripts --}} 
<script> //hacemos arrayProyectos
var arrayProyectos = [];
    {{#each proyectos}}
        arrayProyectos.push({
            idProyecto: {{ idProyecto }},
            nombreProyecto: "{{ nombreProyecto }}"
        });
    {{/each}}
</script>

<script src="/js/requerimientos/requerimiento.js"></script>
